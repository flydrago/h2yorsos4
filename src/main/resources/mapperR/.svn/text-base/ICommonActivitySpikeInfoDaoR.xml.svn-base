<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.h2y.os.dao.read.ICommonActivitySpikeInfoDaoR">

	<resultMap type="com.h2y.os.entity.CommonActivitySpikeInfo" id="commonactivityspikeinfoDaoMap">
		<result property="id" column="id" javaType="long" jdbcType="BIGINT" />
		<result property="memberId" column="member_id" javaType="long" jdbcType="BIGINT" />
		<result property="activityId" column="activity_id" javaType="long" jdbcType="BIGINT" />
		<result property="memberAccount" column="member_account" javaType="string" jdbcType="VARCHAR" />
		<result property="orderNo" column="order_no" javaType="string" jdbcType="VARCHAR" />
		<result property="goodsPriceId" column="goods_price_id" javaType="long" jdbcType="BIGINT" />
		<result property="activityGoodsId" column="activity_goods_id" javaType="long" jdbcType="BIGINT" />
		<result property="createDate" column="create_date" javaType="date" jdbcType="TIMESTAMP" />
		<result property="status" column="status" javaType="int" jdbcType="INTEGER" />
		<result property="orderStatus" column="order_status" javaType="int" jdbcType="INTEGER" />
		<result property="goodsCount" column="goods_count" javaType="int" jdbcType="INTEGER" />
		<result property="memo" column="memo" javaType="string" jdbcType="VARCHAR" />
		<result property="dataType" column="data_type" javaType="int" jdbcType="INTEGER" />
		<result property="activityStartDate" column="activity_start_date" javaType="date" jdbcType="TIMESTAMP" />
		<result property="activityEndDate" column="activity_end_date" javaType="date" jdbcType="TIMESTAMP" />
		<result property="str1" column="str_1" javaType="string" jdbcType="VARCHAR" />
		<result property="str2" column="str_2" javaType="string" jdbcType="VARCHAR" />
	</resultMap>

	<select id="get" parameterType="long"
		resultMap="commonactivityspikeinfoDaoMap">
		select * from tb_common_activity_spike_info where id = #{id}
	</select>
	
	<!-- 根据订单编号查询 -->
	<select id="getByOrderNo" parameterType="string" resultMap="commonactivityspikeinfoDaoMap">
		select * from tb_common_activity_spike_info where order_no = #{orderNo}
	</select>

	
	<select id="getSpikeInfoByMember" parameterType="hashmap" resultMap="commonactivityspikeinfoDaoMap">
		select * from tb_common_activity_spike_info 
		where   activity_start_date = #{activityStartDate} 
			and activity_end_date = #{activityEndDate}
			and activity_goods_id = #{activityGoodsId}
			and activity_id = #{activityId}
			and member_id = #{memberId}
	</select>

	
</mapper>