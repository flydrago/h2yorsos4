<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.h2y.os.dao.write.ICommonActivitySpikeInfoDaoW">

	<insert id="add" parameterType="com.h2y.os.entity.CommonActivitySpikeInfo">
		<selectKey keyProperty="id" resultType="long" order="AFTER"> 
			SELECT max(id)  AS value  from tb_common_activity_spike_info 
		</selectKey>  
		insert into tb_common_activity_spike_info
		(
		member_id,
		activity_id,
		member_account,
		order_no,
		goods_price_id,
		activity_goods_id,
		create_date,
		status,
		order_status,
		goods_count,
		memo,
		data_type,
		activity_start_date,
		activity_end_date,
		str_1,
		str_2
		)
		values (
		#{memberId,jdbcType=BIGINT},
		#{activityId,jdbcType=BIGINT},
		#{memberAccount,jdbcType=VARCHAR},
		#{orderNo,jdbcType=VARCHAR},
		#{goodsPriceId,jdbcType=BIGINT},
		#{activityGoodsId,jdbcType=BIGINT},
		#{createDate,jdbcType=TIMESTAMP},
		#{status,jdbcType=INTEGER},
		#{orderStatus,jdbcType=INTEGER},
		#{goodsCount,jdbcType=INTEGER},
		#{memo,jdbcType=VARCHAR},
		#{dataType,jdbcType=INTEGER},
		#{activityStartDate,jdbcType=TIMESTAMP},
		#{activityEndDate,jdbcType=TIMESTAMP},
		#{str1,jdbcType=VARCHAR},
		#{str2,jdbcType=VARCHAR}
		)
	</insert>

	<update id="update" parameterType="com.h2y.os.entity.CommonActivitySpikeInfo">
		update tb_common_activity_spike_info
		set
		member_id = #{memberId,jdbcType=BIGINT},
		activity_id = #{activityId,jdbcType=BIGINT},
		member_account = #{memberAccount,jdbcType=VARCHAR},
		order_no = #{orderNo,jdbcType=VARCHAR},
		goods_price_id = #{goodsPriceId,jdbcType=BIGINT},
		activity_goods_id = #{activityGoodsId,jdbcType=BIGINT},
		create_date = #{createDate,jdbcType=TIMESTAMP},
		status = #{status,jdbcType=INTEGER},
		order_status = #{orderStatus,jdbcType=INTEGER},
		goods_count = #{goodsCount,jdbcType=INTEGER},
		memo = #{memo,jdbcType=VARCHAR},
		data_type = #{dataType,jdbcType=INTEGER},
		activity_start_date = #{activityStartDate,jdbcType=TIMESTAMP},
		activity_end_date = #{activityEndDate,jdbcType=TIMESTAMP},
		str_1 = #{str1,jdbcType=VARCHAR},
		str_2 = #{str2,jdbcType=VARCHAR}
		where id = #{id}
	</update>

	<delete id="delete" parameterType="com.h2y.os.entity.CommonActivitySpikeInfo">
		delete from
		tb_common_activity_spike_info
		where
		id = #{id} 
	</delete>

	<delete id="deleteById" parameterType="long">
		delete from
		tb_common_activity_spike_info
		where
		id = #{id} 
	</delete>
	<!--
	<delete id="deleteByIds">
		delete from
		tb_common_activity_spike_info
		where
		id in
		<foreach collection="list" item="id" open="(" separator=","
			close=")"> #{id} 
		</foreach>
	</delete>
	-->

	<update id="updateByOrderNo" parameterType="hashmap">
		update tb_common_activity_spike_info
		set		
		order_status = #{orderStatus,jdbcType=INTEGER}
		where order_no = #{orderNo}
	</update>
	
</mapper>