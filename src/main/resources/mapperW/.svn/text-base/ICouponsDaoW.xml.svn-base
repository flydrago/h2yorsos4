<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.h2y.os.dao.write.ICouponsDaoW">

	<insert id="add" parameterType="com.h2y.os.entity.Coupons">
		<selectKey keyProperty="id" resultType="long" order="AFTER"> 
			SELECT max(id)  AS value  from tb_coupons 
		</selectKey>  
		insert into tb_coupons
		(
		unit_id,
		unit_type,
		zone_code,
		coupons_code,
		coupons_name,
		coupons_balance,
		create_date,
		start_date,
		end_date,
		status,
		is_activity,
		is_multi,
		is_limit_amount,
		limit_amount,
		is_limit_type,
		limit_type,
		is_limit_mark,
		limit_mark,
		is_limit_goods,
		limit_goods,
		is_limit_platform,
		limit_platform,
		memo,
		str_1,
		str_2,
		is_limit_count,
		limit_count,
		claimed_count
		)
		values (
		#{unitId,jdbcType=BIGINT},
		#{unitType,jdbcType=INTEGER},
		#{zoneCode,jdbcType=VARCHAR},
		#{couponsCode,jdbcType=VARCHAR},
		#{couponsName,jdbcType=VARCHAR},
		#{couponsBalance,jdbcType=DOUBLE},
		#{createDate,jdbcType=TIMESTAMP},
		#{startDate,jdbcType=TIMESTAMP},
		#{endDate,jdbcType=TIMESTAMP},
		#{status,jdbcType=INTEGER},
		#{isActivity,jdbcType=INTEGER},
		#{isMulti,jdbcType=INTEGER},
		#{isLimitAmount,jdbcType=INTEGER},
		#{limitAmount,jdbcType=DOUBLE},
		#{isLimitType,jdbcType=INTEGER},
		#{limitType,jdbcType=VARCHAR},
		#{isLimitMark,jdbcType=INTEGER},
		#{limitMark,jdbcType=VARCHAR},
		#{isLimitGoods,jdbcType=INTEGER},
		#{limitGoods,jdbcType=BIGINT},
		#{isLimitPlatform,jdbcType=INTEGER},
		#{limitPlatform,jdbcType=VARCHAR},
		#{memo,jdbcType=VARCHAR},
		#{str1,jdbcType=VARCHAR},
		#{str2,jdbcType=VARCHAR},
		#{isLimitCount,jdbcType=INTEGER},
		#{limitCount,jdbcType=BIGINT},
		#{claimedCount,jdbcType=BIGINT}
		)
	</insert>

	<update id="update" parameterType="com.h2y.os.entity.Coupons">
		update tb_coupons
		set
		unit_id = #{unitId,jdbcType=BIGINT},
		unit_type = #{unitType,jdbcType=INTEGER},
		zone_code = #{zoneCode,jdbcType=VARCHAR},
		coupons_code = #{couponsCode,jdbcType=VARCHAR},
		coupons_name = #{couponsName,jdbcType=VARCHAR},
		coupons_balance = #{couponsBalance,jdbcType=DOUBLE},
		create_date = #{createDate,jdbcType=TIMESTAMP},
		start_date = #{startDate,jdbcType=TIMESTAMP},
		end_date = #{endDate,jdbcType=TIMESTAMP},
		status = #{status,jdbcType=INTEGER},
		is_activity = #{isActivity,jdbcType=INTEGER},
		is_multi = #{isMulti,jdbcType=INTEGER},
		is_limit_amount = #{isLimitAmount,jdbcType=INTEGER},
		limit_amount = #{limitAmount,jdbcType=DOUBLE},
		is_limit_type = #{isLimitType,jdbcType=INTEGER},
		limit_type = #{limitType,jdbcType=VARCHAR},
		is_limit_mark = #{isLimitMark,jdbcType=INTEGER},
		limit_mark = #{limitMark,jdbcType=VARCHAR},
		is_limit_goods = #{isLimitGoods,jdbcType=INTEGER},
		limit_goods = #{limitGoods,jdbcType=BIGINT},
		is_limit_platform = #{isLimitPlatform,jdbcType=INTEGER},
		limit_platform = #{limitPlatform,jdbcType=VARCHAR},
		memo = #{memo,jdbcType=VARCHAR},
		str_1 = #{str1,jdbcType=VARCHAR},
		str_2 = #{str2,jdbcType=VARCHAR},
		is_limit_count = #{isLimitCount,jdbcType=INTEGER},
		limit_count = #{limitCount,jdbcType=BIGINT},
		claimed_count = #{claimedCount,jdbcType=BIGINT}
		where id = #{id}
	</update>

	<delete id="delete" parameterType="com.h2y.os.entity.Coupons">
		delete from
		tb_coupons
		where
		id = #{id} 
	</delete>

	<delete id="deleteById" parameterType="long">
		delete from
		tb_coupons
		where
		id = #{id} 
	</delete>
	
</mapper>